import{s as h,_ as v,r as i,u as w,a as g,o as V,c as y,b as s,d as r,w as k,E as p,e as x,f as I,g as E,p as b,h as B}from"./index-loBFcWzC.js";function S(e){return h({url:"/user/login",method:"post",data:e})}const N=e=>(b("data-v-54076ef6"),e=e(),B(),e),C={class:"container"},T=N(()=>s("div",{class:"title"},"用户登录",-1)),U={class:"container_inner"},L={class:"box"},M={class:"mt-2"},R={class:"mt-2"},j={class:"mt-2",style:{"text-align":"center"}},q={__name:"loginView",setup(e){const a=i(""),n=i(""),_=w(),d=g();let l=!1;async function m(){if(l)return;l=!0;const{data:o}=await S({username:a.value,password:n.value});l=!1,o.status==200?(localStorage.setItem("token",o.token),console.log(d),d.updateToken(o.token),p({message:"登录成功",type:"success"}),_.push({name:"home"})):p({message:"登录失败",type:"error"})}return(o,t)=>{const u=x,f=I;return V(),y("div",C,[T,s("div",U,[s("form",L,[s("div",M,[r(u,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=c=>a.value=c),placeholder:"请输入用户名",autocomplete:"user-name"},null,8,["modelValue"])]),s("div",R,[r(u,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=c=>n.value=c),type:"password",placeholder:"请输入密码","show-password":"",autocomplete:"password"},null,8,["modelValue"])]),s("div",j,[r(f,{type:"primary",onClick:m,style:{width:"100%"}},{default:k(()=>[E("登录")]),_:1})])])])])}}},A=v(q,[["__scopeId","data-v-54076ef6"]]);export{A as default};
